# MDS v3.14 - Python 3.14 Free-Threading Dependencies
# Sprint 4: The Cryptographic Vault
# Last Updated: 2025-11-22

# ============================================================================
# Core Backend (FastAPI + Async)
# ============================================================================
fastapi==0.121.3        # Security patched, Py3.14 compatible
uvicorn==0.38.0         # ASGI server with Py3.14 support
orjson==3.11.4          # Fast JSON serialization (pre-compiled wheels)
aiosqlite==0.21.0       # Async SQLite wrapper

# ============================================================================
# Cryptography (Sprint 4 - ADR-002)
# ============================================================================
# CRITICAL: Pin cffi>=2.0.0 for Python 3.14 free-threading support
cffi>=2.0.0             # Required for PyNaCl thread safety

# Primary crypto provider (libsodium bindings)
pynacl>=1.5.0,<2.0.0    # XChaCha20-Poly1305, HMAC, key derivation

# Fallback crypto provider (if PyNaCl wheels unavailable)
pycryptodome>=3.17.0,<4.0.0  # XChaCha20 support, self-contained

# ============================================================================
# Development & Testing
# ============================================================================
pytest>=8.0.0           # Testing framework
pytest-asyncio>=0.23.0  # Async test support
pytest-timeout>=2.2.0   # Timeout for long-running tests
pytest-cov>=4.1.0       # Code coverage

# ============================================================================
# Packaging & Deployment
# ============================================================================
pyinstaller>=6.0.0      # Executable bundling
structlog>=24.1.0
